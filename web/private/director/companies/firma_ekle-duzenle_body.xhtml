<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:body>

        <ui:composition>

            <script>function ltr(element){if(element.setSelectionRange){ element.setSelectionRange(0,0);}}</script>

            <div class="col-md-6">
                <h:form id="addCompanyForm" class="m-form m-form--label-align-left- "  prependId="false">
                    <style>  .ui-growl-item {  margin-top: 100px;}  </style>
                    <p:growl id="growl" globalOnly="true" showDetail="true" life="4000"  sticky="false"/> 

                    <!--begin: Form Body -->
                    <div class="m-portlet__body m-portlet__body--no-padding">

                        <div class="form-group m-form__group row" >
                            <h:outputLabel id="companyActivityAreaSelectOneMenuLabel"
                                           class="col-xl-3 col-lg-3 col-form-label"
                                           for="companyActivityAreaSelectOneMenu">
                                Firma Faaliyet Alanı*
                            </h:outputLabel>
                            <div class="col-lg-6">
                                <h:selectOneMenu id="companyActivityAreaSelectOneMenu" 
                                                 value="#{corporateAccountBean.company_ActivityArea}"  
                                                 class="form-control m-input m-input--square"
                                                 required="true"
                                                 requiredMessage="Faliyet alanınızı seçiniz">
                                    <f:selectItem itemEscaped="" itemLabel="Seçiniz"></f:selectItem>
                                    <f:selectItems value="#{selectItemsBean.selectItemList('corporateActivityArea')}" 
                                                   var="o" 
                                                   itemLabel="#{o.selectItem_Label_Tr}" 
                                                   itemValue="#{o.selectItem_Value}" >
                                    </f:selectItems> 
                                </h:selectOneMenu> 
                                <h:message for="companyActivityAreaSelectOneMenu" style="color: red"></h:message>
                            </div>
                        </div>
                        <div class="form-group m-form__group row" style="padding-bottom: 0; padding-top: 5px;">
                            <h:outputLabel id="corporateAccountCompanyTypeLabel"
                                           class="col-xl-3 col-lg-3 col-form-label"
                                           for="corporateAccountCompanyTypeRadio">
                                İşletme Türü *
                            </h:outputLabel>
                            <div class="col-lg-9">
                                <div class="m-radio-inline">
                                    <h:selectOneRadio   id="corporateAccountCompanyTypeRadio"
                                                        value="#{corporateAccountBean.company_Type}" 
                                                        required="true"
                                                        requiredMessage="Lütfen işletme türünü seçiniz"> 
                                        <f:selectItem itemValue = "Şahıs Şirketi" itemLabel = "&nbsp;Şahıs Şirketi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" /> 
                                        <f:selectItem itemValue = "Limited Şirketi" itemLabel = "&nbsp;Limited Şirketi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" /> 
                                        <f:selectItem itemValue = "Anonim Şirketi" itemLabel = "&nbsp;Anonim Şirketi" />
                                    </h:selectOneRadio> 
                                    <h:message for="corporateAccountCompanyTypeRadio" style="color: red"></h:message>
                                </div> 
                            </div>
                        </div>                                                   
                        <div class="form-group m-form__group row">
                            <div class="col-lg-6">
                                <h:outputLabel id="corporateAccountCommercialTitleLabel" 
                                               for="corporateAccountCommercialTitleInput">
                                    Firma Kısa Adı *
                                </h:outputLabel>
                                <h:inputText id="corporateAccountCommercialTitleInput"
                                             class="form-control m-input" 
                                             value="#{corporateAccountBean.company_Name}"
                                             required="true"
                                             requiredMessage="Lütfen işletmenizin ünvanını yazınız">
                                </h:inputText>
                                <h:message for="corporateAccountCommercialTitleInput" style="color: red"></h:message>
                            </div>
                            <div class="col-lg-6">
                                <h:outputLabel id="corporateAccountCommercialTitleLabelx" 
                                               for="corporateAccountCommercialTitleInputx">
                                    Ticari Ünvan *
                                </h:outputLabel>
                                <h:inputText id="corporateAccountCommercialTitleInputx"
                                             class="form-control m-input" 
                                             value="#{corporateAccountBean.company_FullName}"
                                             required="true"
                                             requiredMessage="Lütfen işletmenizin ünvanını yazınız">
                                </h:inputText>
                                <h:message for="corporateAccountCommercialTitleInputx" style="color: red"></h:message>
                            </div>
                        </div>                                                     
                        <div class="form-group m-form__group row">
                            <div class="col-lg-6">
                                <h:outputLabel id="corporateAccountTaxOfficeLabel" 
                                               for="corporateAccountTaxOfficeInput">
                                    Vergi Dairesi 
                                </h:outputLabel>
                                <h:inputText id="corporateAccountTaxOfficeInput"
                                             class="form-control m-input" 
                                             value="#{corporateAccountBean.company_TaxOffice}">
                                </h:inputText>
                                <h:message for="corporateAccountTaxOfficeInput" style="color: red"></h:message>
                            </div>
                            <div class="col-lg-6">
                                <h:outputLabel >
                                    Vergi Numarası 
                                </h:outputLabel>
                                <p:inputMask id="corporateAccountTaxNumberInput" 
                                             class="form-control m-input" 
                                             onclick="ltr(this);"
                                             value="#{corporateAccountBean.company_TaxNumber}"
                                             mask="9999999999">
                                </p:inputMask>
                                <h:message for="corporateAccountTaxNumberInput" style="color: red"></h:message>
                            </div>
                        </div>
                        <div class="m-separator m-separator--dashed m-separator--lg" style="margin: 10px 0;"></div>
                        <div class="form-group m-form__group row">
                            <div class="col-lg-6">
                                <h:outputLabel >
                                    Telefon(1)
                                </h:outputLabel>
                                <p:inputMask id="corporateAccountTelefon1Input"    
                                            class=" form-control m-input"
                                            onclick="ltr(this);"
                                            value="#{corporateAccountBean.phonesBean.phone_1}"
                                            mask="0(999)-999-9999">
                                </p:inputMask>
                                <h:message for="corporateAccountTelefon1Input" style="color: red"></h:message>
                            </div>
                            <div class="col-lg-6">
                                <h:outputLabel >
                                    Telefon(2)
                                </h:outputLabel>
                               <p:inputMask id="corporateAccountTelefon2Input"    
                                            onclick="ltr(this);"
                                            class=" form-control m-input"
                                            value="#{corporateAccountBean.phonesBean.phone_2}"
                                            mask="0(999)-999-9999">
                                </p:inputMask>
                                <h:message for="corporateAccountTelefon2Input" style="color: red"></h:message>
                            </div>
                        </div>
                        <div class="form-group m-form__group row">
                            <div class="col-lg-6">
                                <h:outputLabel >
                                    Gsm(1)
                                </h:outputLabel>
                                <p:inputMask id="corporateAccountGsm1Input"   
                                             onclick="ltr(this);"
                                            class=" form-control m-input"
                                            value="#{corporateAccountBean.phonesBean.phone_gsm1}"
                                            mask="0(599)-999-9999">
                                </p:inputMask>
                                <h:message for="corporateAccountGsm1Input" style="color: red"></h:message>
                            </div>
                            <div class="col-lg-6">
                                <h:outputLabel >
                                    Gsm(2)
                                </h:outputLabel>
                                <p:inputMask id="corporateAccountGsm2Input"     
                                             onclick="ltr(this);"
                                            class=" form-control m-input"
                                            value="#{corporateAccountBean.phonesBean.phone_gsm2}"
                                            mask="0(599)-999-9999">
                                </p:inputMask>
                                <h:message for="corporateAccountGsm2Input" style="color: red"></h:message>
                            </div>
                        </div>
                         <div class="form-group m-form__group row">
                            <div class="col-lg-6">
                                <h:outputLabel id="corporateAccountFaxInputLabel" 
                                               for="corporateAccountFaxInput">
                                    Fax
                                </h:outputLabel>
                                <p:inputMask id="corporateAccountFaxInput"  
                                             onclick="ltr(this);"
                                            class=" form-control m-input"
                                            value="#{corporateAccountBean.phonesBean.phone_fax1}"
                                            mask="0(999)-999-9999">
                                </p:inputMask>
                                <h:message for="corporateAccountFaxInput" style="color: red"></h:message>
                            </div>
                            <div class="col-lg-6">
                                <h:outputLabel id="corporateAccountEmailInputLabel" 
                                               for="corporateAccountEmailInput">
                                    E-Mail
                                </h:outputLabel>
                               <h:inputText id="corporateAccountEmailInput"
                                            class="form-control m-input" 
                                            value="#{corporateAccountBean.company_Email}"
                                            validatorMessage="Geçersiz E-Mail adresi formatı">
                                   <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                </h:inputText>
                                <h:message for="corporateAccountEmailInput" style="color: red"></h:message>
                            </div>
                        </div>
                        <div class="form-group m-form__group row">
                            <div class="col-lg-12">
                                <h:outputLabel id="corporateAccountWebInputLabel" 
                                               for="corporateAccountWebInput">
                                    Web Sitesi
                                </h:outputLabel>
                                <h:inputText id="corporateAccountWebInput"
                                             class="form-control m-input" 
                                             value="#{corporateAccountBean.company_Web}">
                                </h:inputText>
                                <h:message for="corporateAccountWebInput" style="color: red"></h:message>
                            </div>

                        </div>
                        <div class="m-separator m-separator--dashed m-separator--lg" style="margin: 10px 0;"></div>
                        <div class="form-group m-form__group row">
                            <div class="col-lg-12">
                                <h:outputLabel id="corporateAccountaddressLabel" 
                                               for="corporateAccountaddressInput">
                                    Adres 
                                </h:outputLabel>
                                <h:inputTextarea id="corporateAccountaddressInput"
                                                 class="form-control m-input" 
                                                 value="#{corporateAccountBean.addressBean.address}"
                                                 rows="2">
                                </h:inputTextarea>
                                <h:message for="corporateAccountaddressInput" style="color: red"></h:message>
                            </div>
                        </div>
                        <div class="form-group m-form__group row" style="margin-bottom: 20px;">
                            <div class="col-lg-6">
                                <h:outputLabel id="corporateAccountAddressCitySelectOneMenuLabel"
                                               for="corporateAccountAddressCitySelectOneMenu">
                                    İl 
                                </h:outputLabel>
                                <h:selectOneMenu id="corporateAccountAddressCitySelectOneMenu" 
                                                 value="#{corporateAccountBean.addressBean.address_CityId}"  
                                                 class="form-control m-input m-input--square">
                                    <f:selectItem itemEscaped="" itemLabel="Seçiniz"></f:selectItem>
                                    <f:selectItems value="#{corporateAccountBean.allCityWithDetail()}" 
                                                   var="o" 
                                                   itemLabel="#{o.cityName}" 
                                                   itemValue="#{o.cityID}" >
                                    </f:selectItems> 
                                    <f:ajax event="change" render="corporateAccountAddressTownSelectOneMenu"></f:ajax>
                                </h:selectOneMenu> 
                                <h:message for="corporateAccountAddressCitySelectOneMenu" style="color: red"></h:message>
                            </div>
                            <div class="col-lg-6">
                                <h:outputLabel id="corporateAccountAddressTownSelectOneMenuLabel"
                                               for="corporateAccountAddressTownSelectOneMenu">
                                    İlçe 
                                </h:outputLabel>
                                <h:selectOneMenu id="corporateAccountAddressTownSelectOneMenu" 
                                                 value="#{corporateAccountBean.addressBean.address_TownId}"  
                                                 class="form-control m-input m-input--square">
                                    <f:selectItem itemEscaped="" itemLabel="Seçiniz"></f:selectItem>
                                    <f:selectItems value="#{corporateAccountBean.allTownDetailWithCity()}" 
                                                   var="o" 
                                                   itemLabel="#{o.townName}" 
                                                   itemValue="#{o.townID}" >
                                    </f:selectItems> 
                                </h:selectOneMenu> 
                                <h:message for="corporateAccountAddressTownSelectOneMenu" style="color: red"></h:message>
                            </div>
                        </div>
                        <div class="m-separator m-separator--dashed m-separator--lg" style="margin: 30px 0;"></div>
                        <div class="m-form__heading">
                            <h3 class="m-form__heading-title">Sosyal Medya Bilgileri</h3>
                        </div>
                        <div class="form-group m-form__group row" style="margin-bottom: 20px;">
                            <div class="col-lg-6">
                                <h:outputLabel id="facebookprofileUrlInputLabel" 
                                               for="facebookprofileUrlInput">
                                    Facebook
                                </h:outputLabel>
                                <h:inputText id="facebookprofileUrlInput"
                                             class="form-control m-input" 
                                             value="#{corporateAccountBean.socialMediaBean.facebook_profileUrl}">
                                </h:inputText>
                            </div>
                            <div class="col-lg-6">
                                <h:outputLabel id="twitterprofileUrlInputLabel" 
                                               for="twitterprofileUrlInput">
                                    Twitter
                                </h:outputLabel>
                                <h:inputText id="twitterprofileUrlInput"
                                             class="form-control m-input" 
                                             value="#{corporateAccountBean.socialMediaBean.twitter_profileUrl}">
                                </h:inputText>
                            </div>
                        </div>
                        <div class="form-group m-form__group row" style="margin-bottom: 20px;">
                            <div class="col-lg-6">
                                <h:outputLabel id="linkedinprofileUrlInputLabel" 
                                               for="linkedinprofileUrlInput">
                                    Linked-in
                                </h:outputLabel>
                                <h:inputText id="linkedinprofileUrlInput"
                                             class="form-control m-input" 
                                             value="#{corporateAccountBean.socialMediaBean.linkedin_profileUrl}">
                                </h:inputText>
                            </div>
                            <div class="col-lg-6">
                                <h:outputLabel id="instagramprofileUrlInputLabel" 
                                               for="instagramprofileUrlInput">
                                   Instagram
                                </h:outputLabel>
                                <h:inputText id="instagramprofileUrlInput"
                                             class="form-control m-input" 
                                             value="#{corporateAccountBean.socialMediaBean.instagram_profileUrl}">
                                </h:inputText>
                            </div>
                        </div>
                        <div class="m-separator m-separator--dashed m-separator--lg" style="margin: 30px 0;"></div>
                        <div class="m-form__heading">
                            <h3 class="m-form__heading-title">Referanslar</h3><br/>
                            <h:form class="m-form m-form--label-align-left- m-form--state-" id="companyReferencesform"  prependId="false">
                                <h:panelGroup id="fdsfdsfvds">
                                    <div class="m-form__section m-form__section--first">                                       
                                        <div class="form-group m-form__group row">
                                            <div class="col-lg-4">
                                                <h:outputLabel id="vehicleReferencesCompanyLabel"
                                                               for="vehicleReferencesCompanySelectOnaeMenu">
                                                    Firma
                                                </h:outputLabel>
                                                <div >
                                                    <h:inputText id="vehicleReferencesCompanySelectOnaeMenu" 
                                                                 class="form-control m-input" 
                                                                 value="#{corporateAccountBean.companyReferencesBean.companyReferences_Company}" 
                                                                 immediate="false">
                                                    </h:inputText>
                                                    <h:message for="vehicleReferencesProjectInput" class="message-f"></h:message>
                                                </div>
                                                <h:message for="vehicleReferencesCompanySelectOnaeMenu" class="message-f"></h:message>
                                            </div>
                                            <div class="col-lg-4">
                                                <h:outputLabel id="vehicleReferencesProjectLabel"
                                                               for="vehicleReferencesProjectInput">
                                                    Proje
                                                </h:outputLabel>
                                                <div >
                                                    <h:inputText id="vehicleReferencesProjectInput" 
                                                                 class="form-control m-input" 
                                                                 value="#{corporateAccountBean.companyReferencesBean.companyReferences_Project}" 
                                                                 immediate="false">
                                                    </h:inputText>
                                                    <h:message for="vehicleReferencesProjectInput" class="message-f"></h:message>
                                                </div>
                                            </div>
                                            <div class="col-lg-2">
                                                <h:outputLabel id="vehicleReferencesProjectDateInputLabel"
                                                               for="vehicleReferencesProjectDateInput">
                                                    Yıl
                                                </h:outputLabel>
                                                <div >
                                                    <p:inputNumber  id="vehicleReferencesProjectDateInput" 
                                                                    inputStyleClass="form-control m-input" 
                                                                    minValue="0"
                                                                    maxValue="50"
                                                                    value="#{corporateAccountBean.companyReferencesBean.companyReferences_ProjectWorkingYear}" 
                                                                    immediate="false">
                                                    </p:inputNumber>
                                                    <h:message for="vehicleReferencesProjectDateInput" class="message-f"></h:message>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 m--align-right">
                                                <h:outputLabel > &nbsp; </h:outputLabel>

                                                <h:commandLink  class="btn btn-outline-metal btn-sm" value="Ekle"
                                                                style="width: 100px; height: 40px;font-size: 1.2em" 
                                                                action="#{corporateAccountBean.createcompanyReference()}"                                                                 >
                                                    <f:ajax execute="companyReferencesform" render="fdsfdsfvds gf65y5trs "></f:ajax>
                                                </h:commandLink>
                                            </div>
                                        </div>                                        
                                    </div>
                                </h:panelGroup>
                            </h:form>
                            <br/><br/>
                            <h:form class="m-form m-form--label-align-left- m-form--state-" id="companyReferencesform2" prependId="false" >
                                <h:panelGroup id="gf65y5trs">
                                    <div class="m-form__section">
                                        <div class="m-form__heading">
                                            <h:outputLabel >
                                                Referans Listesi
                                            </h:outputLabel>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-sm  table-bordered">
                                                <thead>
                                                    <tr class="table-primary">
                                                        <th width="35%">Firma</th>
                                                        <th width="30%">Proje</th>
                                                        <th width="25%">Yıl</th>
                                                        <th width="10%">İşlem</th>
                                                    </tr>
                                                </thead>

                                                <tbody>

                                                    <ui:repeat var="r" value="#{corporateAccountBean.companyReferencesList}">
                                                        <tr>
                                                            <td><h:outputText value="#{r.companyReferences_Company}"/></td>
                                                            <td><h:outputText value="#{r.companyReferences_Project}"/></td>
                                                            <td><h:outputText value="#{r.companyReferences_ProjectWorkingYear}"> </h:outputText></td>
                                                            <td>
                                                                <h:commandLink action="#{corporateAccountBean.deleteHostessReference(r.companyReferences_Id)}"
                                                                               value="SİL">
                                                                    <f:ajax execute="companyReferencesform2" render="gf65y5trs "></f:ajax>
                                                                </h:commandLink>
                                                            </td>
                                                        </tr> 
                                                    </ui:repeat>
                                                </tbody>

                                            </table>
                                        </div>
                                    </div>
                                </h:panelGroup>
                            </h:form>
                        </div>
                        <div class="m-separator m-separator--dashed m-separator--lg" style="margin: 30px 0;"></div>
                        <div class="m-form__heading">
                            <h3 class="m-form__heading-title">Logo</h3>

                        </div>
                        
                            <h:form id="hthret4"  prependId="false"  enctype="multipart/form-data">
                            <div class="row" >       
                            <div class="col-md-5" style="padding-top: 15px; text-align: center; ">    
                                <h:panelGroup id="llkkffkkd">
                                    <h:panelGroup id="frsfesr43refes" rendered="#{corporateAccountBean.company_LogoUrl == null}">
                                        <img class="img-thumbnail" 
                                             style="opacity: 0.5"
                                             src="/resources/img/logoPlaceholder.png" alt="logo"/>
                                    </h:panelGroup>
                                    <h:panelGroup id="cxvdsfsa" rendered="#{corporateAccountBean.company_LogoUrl != null}">
                                        <img class="img-thumbnail" 
                                             id="sfdsf4tr4rf"
                                             src="#{corporateAccountBean.company_LogoUrl}" alt="companyLogo"/>                                          
                                    </h:panelGroup>
                                </h:panelGroup>
                            </div>
                            <div class="col-md-7">
                                <div class="col-md-12" > 
                                    <br/>
                                    <p>Profil resmi yüklemek için aşağıdaki dosya seç düğmesini tıklatım ve resminizi seçiniz, 
                                        sonra seçtiğiniz resmi yüklemek için yükle düğmesini tıklatın. . <br/><br/>
                                        <b>En fazla [1Mb] büyüklüğünde ve [JPEG,PNG,GIF] formatındaki resimleri yükleyebilirsiniz.</b> </p>
                                </div>
                                <div class="col-md-12" style="padding-top: 15px;">
                                    <h:inputFile id="companyLogoInputFile"   onchange="prg2()"
                                                 value="#{corporateAccountBean.company_LogoFile}"  
                                                 validator="#{corporateAccountBean.validateFile}">
                                        <f:ajax event="change"  listener="#{corporateAccountBean.fileUpload()}"  execute="@this" render="uploadProgress2 llkkffkkd"/>
                                    </h:inputFile> 
                                    <h:message for="companyLogoInputFile" class="message-f"></h:message>
                                </div>
                                <div class="col-md-12" style="margin-top: 20px;">
                                <h:panelGroup id="uploadProgress2" style="display:none ; height: 25px; ">
                                        <div  class="progress  m-progress--lg" style=" height: 25px;">
                                            <div class="progress-bar progress-bar-striped progress-bar-animated " 
                                                 role="progressbar" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100" 
                                                 style="font-size: .90rem; height: 25px; width: 100%">
                                                Lütfen bekleyiniz dosyanız yükleniyor..
                                            </div>
                                        </div>
                                    </h:panelGroup>
                                    <script> function prg2() { var x = document.getElementById("uploadProgress2"); x.style.display = "block"; }; </script>
                                </div>
                               
                            </div>
                               </div>  
                                </h:form>
                       
                    </div>

                    

                   
                    <div class="m-portlet__foot m-portlet__foot--fit m--margin-top-40">
                        <div class="m-form__actions">
                            <div class="row">
                                <div class="col-lg-7 m--align-left"> 
                                    &nbsp;
                                </div>
                                <div class="col-lg-5 m--align-right">
                                    <h:panelGroup rendered="#{corporateAccountBean.urlPath.equals('firma_duzenle')}">
                                        <h:commandLink  id="updateCorporateAccountButton"
                                                        class="btn btn-brand m-btn m-btn--custom m-btn--icon"
                                                        action="#{corporateAccountBean.updateCorporateCompany()}">
                                            Güncelle
                                        </h:commandLink>
                                    </h:panelGroup>
                                    <h:panelGroup rendered="#{!corporateAccountBean.urlPath.equals('firma_duzenle')}">
                                        <h:commandLink  id="createCorporateAccountButton"
                                                        class="btn btn-brand m-btn m-btn--custom m-btn--icon"
                                                        action="#{corporateAccountBean.addCorporateCompany()}">
                                            Kaydet
                                        </h:commandLink>
                                    </h:panelGroup>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    

                </h:form>
            </div>

        </ui:composition>


    </h:body>


</html>