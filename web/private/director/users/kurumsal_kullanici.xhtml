<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:body>
        <ui:composition template="../director-page-layout.xhtml">
            <ui:define name="head-title">
                <h3 class="m-portlet__head-text">
                    <i class="fas fa-users-cog"></i>&nbsp;Site Yöneticisi Sayfası 
                    <small>
                        <i class="la la-angle-right"></i>&nbsp;Kullanıcılar&nbsp;
                        <i class="la la-angle-right"></i>&nbsp;Kurumsal Kullanıcı Ekle&nbsp;
                    </small>
                </h3>
            </ui:define>
            <ui:define name="form">        
                <div class=" col-md-8">
                    
                    <div class="m-form__heading" style="padding-bottom: 10px; margin-bottom: 30px; border-bottom: 1px solid #ddd">
                        <i style="  float:left;  font-size: 2rem; margin-bottom: .5rem; font-weight: 500; line-height: 1.2; color: inherit;"  class="m-nav__link-icon la la-user"></i><h2 >&nbsp;Kurumsal Kullanıcı Ekle</h2><i ></i>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h:form id="accountForm" class="m-form m-form--label-align-left- "  prependId="false">
                                <script>function ltr(element){if(element.setSelectionRange){ element.setSelectionRange(0,0);}}</script>

                                <div class="form-group m-form__group row" >
                                    <h:outputLabel id="accountMembershipTypeLabel"
                                                   class="col-xl-3 col-lg-3 col-form-label">
                                        Üyelik Tipi *
                                    </h:outputLabel>
                                    <div class="col-lg-9">
                                        <div class="btn-group btn-group-sm" >
                                            <a href="#" class="btn btn-outline-brand active">Kurumsal Üyelik</a>
                                        </div>
                                    </div>
                                </div>
                               
                                <div class="form-group m-form__group row" 
                                     style="border-bottom: 1px dashed #ddd; padding-top: 0; padding-bottom: 25px;">
                                    <h:outputLabel id="companyIdLabel"
                                                   class="col-xl-3 col-lg-3 col-form-label"
                                                   for="companyIdSelectOneMenu">
                                        Firması *
                                    </h:outputLabel>
                                    <div class="col-lg-6">
                                        <h:selectOneMenu id="companyIdSelectOneMenu"  
                                                         disabled="#{corporateAccountBean.addCompany==true? 'true' : 'false'}"
                                                         value="#{corporateAccountBean.company_Id}"
                                                         class="form-control m-input m-input--square">
                                            <f:selectItem itemEscaped="" itemLabel="#{corporateAccountBean.addCompany==true? 'Aşağıdan firmanızı ekleyiniz' : 'Firmanızı seçiniz'}"></f:selectItem>
                                            <f:selectItems value="#{corporateAccountBean.allCorporateAccountWithDetail()}" 
                                                           var="o" 
                                                           itemLabel="#{o.company_Name}" 
                                                           itemValue="#{o.company_Id}" >
                                            </f:selectItems> 
                                        </h:selectOneMenu> 
                                        <h:message for="companyIdSelectOneMenu" style="color: red"></h:message>
                                    </div>
                                    
                                    <div class="col-lg-3">     
                                        <h:panelGroup id="kjhgjf" >
                                        <h:commandLink class="btn btn-secondary"  rendered="#{corporateAccountBean.addCompany!=true}"
                                                       action="#{corporateAccountBean.addCompanyStatusChange(true)}" 
                                                       value="Yeni Firma Ekle" 
                                                       immediate="true">
                                            <f:ajax render="df5g4564f companyIdSelectOneMenu dfgfdfds kjhgjf"></f:ajax>
                                        </h:commandLink>
                                        </h:panelGroup>
                                        <h:panelGroup id="dfgfdfds" >
                                        <h:commandLink class="btn btn-secondary" rendered="#{corporateAccountBean.addCompany==true}"
                                                        action="#{corporateAccountBean.addCompanyStatusChange(false)}" 
                                                       value="Firmayı Listeden Seç" immediate="true" >
                                        <f:ajax render="df5g4564f companyIdSelectOneMenu dfgfdfds kjhgjf"></f:ajax>
                                        </h:commandLink>
                                        </h:panelGroup>
                                    </div>
                                </div>
                                <div class="form-group m-form__group row" style="padding-top: 25px;">
                                    <div class="col-lg-6">
                                        <h:outputLabel id="corporateAccountFirstNameLabel" 
                                                       for="corporateAccountFirstNameInput">
                                            Ad *
                                        </h:outputLabel>
                                        <h:inputText id="corporateAccountFirstNameInput"
                                                     class="form-control m-input" 
                                                     value="#{corporateAccountBean.accountBean.account_FirstName}"
                                                     required="true"
                                                     requiredMessage="Lütfen adınızı yazınız">
                                        </h:inputText>
                                        <h:message for="corporateAccountFirstNameInput" style="color: red"></h:message>
                                    </div>
                                    <div class="col-lg-6">
                                        <h:outputLabel id="corporateAccountLastNameLabel"
                                                       for="corporateAccountLastNameInput">
                                            Soyad *
                                        </h:outputLabel>
                                        <h:inputText id="corporateAccountLastNameInput"
                                                     class="form-control m-input" 
                                                     value="#{corporateAccountBean.accountBean.account_LastName}" 
                                                     required="true"
                                                     requiredMessage="Lütfen soyadınızı yazınız">
                                        </h:inputText>
                                        <h:message for="corporateAccountLastNameInput" style="color: red"></h:message>
                                    </div>
                                </div>
                                <div class="form-group m-form__group row">
                                    <div class="col-lg-6">
                                        <h:outputLabel id="corporateAccountEmailAddressLabel"
                                                       for="corporateAccountEmailAddressInput">
                                            E-Mail Adres 
                                        </h:outputLabel>
                                        <h:inputText id="corporateAccountEmailAddressInput" 
                                                     class="form-control m-input" 
                                                     value="#{corporateAccountBean.accountBean.account_EmailAddress}" 
                                                     
                                                     validatorMessage="Geçersiz E-Mail adresi formatı">
                                            <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                        </h:inputText>
                                        <h:message for="corporateAccountEmailAddressInput" style="color: red"> </h:message>
                                    </div>
                                    <div class="col-lg-6">
                                        <h:outputLabel id="corporateAccountMobilePhoneNumberLabel"
                                                       for="corporateAccountMobilePhoneNumberInput">
                                            GSM Numarası *
                                        </h:outputLabel>
                                        <p:inputMask id="corporateAccountMobilePhoneNumberInput"    
                                                     class=" form-control m-input"
                                                     onclick="ltr(this);"
                                                     value="#{corporateAccountBean.accountBean.account_MobilePhoneNumber}"
                                                     required="true"
                                                     requiredMessage="Lütfen Cep telefon numaranızı yazınız"
                                                     mask="0(599)-999-9999">
                                        </p:inputMask>
                                        <h:message for="corporateAccountMobilePhoneNumberInput" style="color: red"></h:message>
                                    </div>
                                </div>
                                <div class="form-group m-form__group row">
                                    <div class="col-lg-6">
                                        <h:outputLabel id="corporateAccountPasswordLabel"
                                                       for="corporateAccountPassword">
                                            Şifre *
                                        </h:outputLabel>
                                        <f:event listener="#{corporateAccountBean.passwordMatch}" type="postValidate" />
                                        <h:inputSecret  id="corporateAccountPassword"
                                                        class="form-control m-input"
                                                        maxlength="12"
                                                        value="#{personalAccountBean.accountBean.account_Password_1}"
                                                        required="true"
                                                        requiredMessage="Şifrenizi yazınız">
                                        </h:inputSecret>
                                        <h:message for="corporateAccountPassword" style="color: red"></h:message>
                                    </div>
                                    <div class="col-lg-6">
                                        <h:outputLabel id="corporateAccountConfirmPasswordLabel"
                                                       for="corporateAccountConfirmPassword">
                                            Şifre (Tekrar) *
                                        </h:outputLabel>
                                        <h:inputSecret  id="corporateAccountConfirmPassword"
                                                        class="form-control m-input"
                                                        maxlength="12"
                                                        value="#{personalAccountBean.accountBean.account_Password_2}"
                                                        required="true"
                                                        requiredMessage="Şifrenizi tekrar yazınız">
                                        </h:inputSecret>
                                        <h:message for="corporateAccountConfirmPassword" style="color: red"></h:message>
                                    </div>
                                </div>
                                <h:panelGroup id="df5g4564f">
                                <h:panelGroup id="cdd" rendered="#{corporateAccountBean.addCompany==true}">
                                <hr/>
                                <div class="form-group m-form__group row" style="padding-bottom: 0; padding-top: 5px;">
                                    <h:outputLabel id="corporateAccountCompanyTypeLabel"
                                                   class="col-xl-3 col-lg-3 col-form-label"
                                                   for="corporateAccountCompanyTypeRadio">
                                        İşletme Türü *
                                    </h:outputLabel>
                                    <div class="col-lg-9">
                                        <div class="m-radio-inline">
                                            <h:selectOneRadio   id="corporateAccountCompanyTypeRadio"
                                                                value="#{corporateAccountBean.company_Type}" 
                                                                required="#{corporateAccountBean.addCompany==true? 'true' : 'false'}"
                                                                requiredMessage="Lütfen işletme türünü seçiniz"> 
                                                <f:selectItem itemValue = "sahis" itemLabel = "&nbsp;Şahıs Şirketi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" /> 
                                                <f:selectItem itemValue = "limited" itemLabel = "&nbsp;Limited Şirketi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" /> 
                                                <f:selectItem itemValue = "anonim" itemLabel = "&nbsp;Anonim Şirketi" />
                                            </h:selectOneRadio> 
                                            <h:message for="corporateAccountCompanyTypeRadio" style="color: red"></h:message>
                                        </div> 
                                    </div>
                                </div> 
                                 <div class="form-group m-form__group row" >
                                    <h:outputLabel id="companyActivityAreaSelectOneMenuLabel"
                                                   class="col-xl-3 col-lg-3 col-form-label"
                                                   for="companyActivityAreaSelectOneMenu">
                                        Faaliyet Alanı *
                                    </h:outputLabel>
                                    <div class="col-lg-6">
                                        <h:selectOneMenu id="companyActivityAreaSelectOneMenu" 
                                                         value="#{corporateAccountBean.company_ActivityArea}"  
                                                         class="form-control m-input m-input--square"
                                                         required="true"
                                                         requiredMessage="Faliyet alanınızı seçiniz">
                                            <f:selectItem itemEscaped="" itemLabel="Seçiniz"></f:selectItem>
                                            <f:selectItems value="#{selectItemsBean.selectItemList('corporateActivityArea')}" 
                                                           var="o" 
                                                           itemLabel="#{o.selectItem_Label_Tr}" 
                                                           itemValue="#{o.selectItem_Value}" >
                                            </f:selectItems> 
                                        </h:selectOneMenu> 
                                        <h:message for="companyActivityAreaSelectOneMenu" style="color: red"></h:message>
                                    </div>
                                </div>
                                <div class="form-group m-form__group row">
                                    <div class="col-lg-6">
                                        <h:outputLabel id="company_FullNameLabel" 
                                                       for="company_FullNameInput">
                                            Ticari Ünvan *
                                        </h:outputLabel>
                                        <h:inputText id="company_FullNameInput"
                                                     class="form-control m-input" 
                                                     value="#{corporateAccountBean.company_FullName}"
                                                     required="#{corporateAccountBean.addCompany==true? 'true' : 'false'}"
                                                     requiredMessage="Lütfen işletmenizin ünvanını yazınız">
                                        </h:inputText>
                                        <h:message for="company_FullNameInput" style="color: red"></h:message>
                                    </div>
                                    <div class="col-lg-6">
                                        <h:outputLabel id="company_NameLabel" 
                                                       for="company_NameInput">
                                            Firma Kısa Adı 
                                        </h:outputLabel>
                                        <h:inputText id="company_NameInput"
                                                     class="form-control m-input" 
                                                     value="#{corporateAccountBean.company_Name}">
                                        </h:inputText>
                                        <h:message for="company_NameInput" style="color: red"></h:message>
                                    </div>
                                </div> 
                                
                                <div class="form-group m-form__group row">
                                    <div class="col-lg-6">
                                        <h:outputLabel id="corporateAccountTaxOfficeLabel" 
                                                       for="corporateAccountTaxOfficeInput">
                                            Vergi Dairesi *
                                        </h:outputLabel>
                                        <h:inputText id="corporateAccountTaxOfficeInput"
                                                     class="form-control m-input" 
                                                     value="#{corporateAccountBean.company_TaxOffice}"
                                                     required="#{corporateAccountBean.addCompany==true? 'true' : 'false'}"
                                                     requiredMessage="Lütfen vergi dairenizi yazınız">
                                        </h:inputText>
                                        <h:message for="corporateAccountTaxOfficeInput" style="color: red"></h:message>
                                    </div>
                                    <div class="col-lg-6">
                                        <h:outputLabel >
                                            Vergi Numarası *
                                        </h:outputLabel>
                                        <p:inputMask id="corporateAccountTaxNumberInput"
                                                     class="form-control m-input" 
                                                     onclick="ltr(this);"
                                                     value="#{corporateAccountBean.company_TaxNumber}"
                                                     required="#{corporateAccountBean.addCompany==true? 'true' : 'false'}"
                                                     requiredMessage="Lütfen vergi numaranızı yazınız"
                                                     mask="9999999999">
                                        </p:inputMask>
                                        <h:message for="corporateAccountTaxNumberInput" style="color: red"></h:message>
                                    </div>
                                </div>
                                <div class="form-group m-form__group row">
                                    <div class="col-lg-12">
                                        <h:outputLabel id="corporateAccountaddressLabel" 
                                                       for="corporateAccountaddressInput">
                                            Adres *
                                        </h:outputLabel>
                                        <h:inputTextarea id="corporateAccountaddressInput"
                                                         class="form-control m-input" 
                                                         value="#{corporateAccountBean.addressBean.address}"
                                                         rows="2"
                                                         required="#{corporateAccountBean.addCompany==true? 'true' : 'false'}"
                                                         requiredMessage="Lütfen adresi yazınız">
                                        </h:inputTextarea>
                                        <h:message for="corporateAccountaddressInput" style="color: red"></h:message>
                                    </div>
                                </div>
                                <div class="form-group m-form__group row" style="margin-bottom: 20px;">
                                    <div class="col-lg-6">
                                        <h:outputLabel id="corporateAccountAddressCitySelectOneMenuLabel"
                                                       for="corporateAccountAddressCitySelectOneMenu">
                                            İl *
                                        </h:outputLabel>
                                        <h:selectOneMenu id="corporateAccountAddressCitySelectOneMenu" 
                                                         value="#{corporateAccountBean.addressBean.address_CityId}"  
                                                         class="form-control m-input m-input--square"
                                                         required="#{corporateAccountBean.addCompany==true? 'true' : 'false'}"
                                                         requiredMessage="İl Seçiniz">
                                            <f:selectItem itemEscaped="" itemLabel="Seçiniz"></f:selectItem>
                                            <f:selectItems value="#{corporateAccountBean.allCityWithDetail()}" 
                                                           var="o" 
                                                           itemLabel="#{o.cityName}" 
                                                           itemValue="#{o.cityID}" >
                                            </f:selectItems> 
                                            <f:ajax event="change" render="corporateAccountAddressTownSelectOneMenu"></f:ajax>
                                        </h:selectOneMenu> 
                                        <h:message for="corporateAccountAddressCitySelectOneMenu" style="color: red"></h:message>
                                    </div>
                                    <div class="col-lg-6">
                                        <h:outputLabel id="corporateAccountAddressTownSelectOneMenuLabel"
                                                       for="corporateAccountAddressTownSelectOneMenu">
                                            İlçe *
                                        </h:outputLabel>
                                        <h:selectOneMenu id="corporateAccountAddressTownSelectOneMenu" 
                                                         value="#{corporateAccountBean.addressBean.address_TownId}"  
                                                         class="form-control m-input m-input--square"
                                                         required="#{corporateAccountBean.addCompany==true? 'true' : 'false'}"
                                                         requiredMessage="İlçe Seçiniz">
                                            <f:selectItem itemEscaped="" itemLabel="Seçiniz"></f:selectItem>
                                            <f:selectItems value="#{corporateAccountBean.allTownDetailWithCity()}" 
                                                           var="o" 
                                                           itemLabel="#{o.townName}" 
                                                           itemValue="#{o.townID}" >
                                            </f:selectItems> 
                                        </h:selectOneMenu> 
                                        <h:message for="corporateAccountAddressTownSelectOneMenu" style="color: red"></h:message>
                                    </div>
                                </div>
                                </h:panelGroup>
                                </h:panelGroup>    
                                <br/>  <br/>


                                <div class="row">
                                    <div class="col-lg-6 m--align-left"> <p:messages globalOnly="true" closable="true" showSummary="false" showDetail="true">  </p:messages></div>
                                    <div class="col-lg-6 m--align-right">
                                        <h:commandLink  id="createCorporateAccountButton" 
                                                        class="btn btn-brand m-btn m-btn--custom m-btn--icon"
                                                        action="#{corporateAccountBean.createCorporateAccount()}">
                                            Kaydet
                                        </h:commandLink>
                                    </div>
                                </div>


                            </h:form>
                        </div>
                    </div>
                    
                </div>         
            </ui:define>
        </ui:composition>
    </h:body>
</html>



